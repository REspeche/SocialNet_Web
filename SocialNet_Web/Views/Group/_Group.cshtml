@using Web_Resource;
<div class="card__menu" ng-show="(isLogin && session.userId==session.view_userId && tab==1)">
    <button id="card-menu-actions-{{item.groupId}}_1" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">keyboard_arrow_down</i>
    </button>

    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
        for="card-menu-actions-{{item.groupId}}_1">
        <li class="mdl-menu__item" ng-click="followGroup($index)">{{item.following == 1 ? "@Site.mnuUnFollowGroup" : "@Site.mnuFollowGroup"}}</li>
        <li class="mdl-menu__item" ng-click="removeGroup($index)" ng-show="item.isMe">@Site.mnuRemoveGroup</li>
        <li class="mdl-menu__item" ng-click="unlinkGroup($index)" ng-show="!item.isMe">@Site.mnuUnLinkGroup</li>
    </ul>
</div>
<div class="card__menu" ng-show="(isLogin && session.userId==session.view_userId && tab==2)">
    <button id="card-menu-actions-{{item.groupId}}_2" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">keyboard_arrow_down</i>
    </button>

    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
        for="card-menu-actions-{{item.groupId}}_2">
        <li class="mdl-menu__item" ng-click="acceptGroup($index)">@Site.mnuAcceptGroup</li>
        <li class="mdl-menu__item" ng-click="rejectGroup($index)">@Site.mnuRejectGroup</li>
    </ul>
</div>
<div class="card__menu" ng-show="(isLogin && session.userId==session.view_userId && tab==3)">
    <button id="card-menu-actions-{{item.groupId}}_3" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">keyboard_arrow_down</i>
    </button>

    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
        for="card-menu-actions-{{item.groupId}}_3">
        <li class="mdl-menu__item" ng-click="requestInvitation($index, 1)" ng-show="item.joinId==null">@Site.mnuJoinRequest</li>
        <li class="mdl-menu__item" ng-click="cancelJoin($index)" ng-show="item.joinId!=null">@Site.mnuCancelRequest</li>
    </ul>
</div>
<div class="mdl-card__title mdl-card--expand"></div>
<div class="mdl-card__actions">
    <a href="{{(item.profileCode==''|| item.joinId==null || tab==3)?'#':'/'+item.profileCode}}">{{item.groupName}}</a>
    <span>{{item.countMember}} @Site.lblMember{{(item.countMember==1)?'':'s'}}</span>
    <div class="card__action" ng-if="isLogin && session.userId==session.view_userId && tab==1">
        <button class="mdl-button mdl-js-button mdl-button--icon" ng-click="followGroup($index)"
                ng-attr-title="{{item.following == 1 ? '@Site.mnuUnFollowGroup' : '@Site.mnuFollowGroup'}}">
            <i class="material-icons">{{item.following == 1 ? "visibility" : "visibility_off"}}</i>
        </button>
    </div>
    <div class="card__action" ng-if="isLogin && session.userId==session.view_userId && tab==2">
        <button class="mdl-button mdl-js-button mdl-button--icon" ng-click="rejectGroup($index)"
                title="@Site.mnuRejectGroup">
            <i class="material-icons">thumb_down</i>
        </button>
        <button class="mdl-button mdl-js-button mdl-button--icon" ng-click="acceptGroup($index)"
                title="@Site.mnuAcceptGroup">
            <i class="material-icons">thumb_up</i>
        </button>
    </div>
    <div class="card__action" ng-if="isLogin && session.userId==session.view_userId && tab==3">
        <button class="mdl-button mdl-js-button mdl-button--icon" ng-click="requestInvitation($index, 0)"
                title="@Site.mnuJoinRequest" ng-show="item.joinId==null">
            <i class="material-icons">control_point_duplicate</i>
        </button>
        <button class="mdl-button mdl-js-button mdl-button--icon" ng-click="cancelJoin($index)"
                title="@Site.mnuCancelRequest" ng-show="item.joinId!=null">
            <i class="material-icons">pan_tool</i>
        </button>
    </div>
</div>

